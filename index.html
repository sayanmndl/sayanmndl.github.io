<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sayan Mandal — Machine Learning Researcher & Engineer</title>
  <meta name="description" content="Sayan Mandal — Senior Machine Learning Engineer (AMD). Applied AI research in LLM agents, computer vision, multimodal systems, and time-series." />
  <meta name="theme-color" content="#103C34" media="(prefers-color-scheme: light)" />
  <meta name="theme-color" content="#0a0a0a" media="(prefers-color-scheme: dark)" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>tailwind.config = { darkMode: 'class' };</script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/js-yaml@4/dist/js-yaml.min.js"></script>
  <style>
    :root { --hero-bg: #103C34; }
    body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans'; }
    .hero-bg { background-color: var(--hero-bg); background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%231B4B43' fill-opacity='0.3'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4V0h1v4h9V0h1v4h9V0h1v4h9V0h1v4h9V0h1v4h9V0h1v4h9V0h1v4h9V0h1v4h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm-9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm-9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm-9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9z'/%3E%3Cpath d='M6 5V0h1v5h5v1H6v94h94V6h-5V5h5V0h1v5h4v1h-4v90h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H5v-1h4V6H5V5h1zm95 0h-4v94h4V5zm-5-1v-4h-9v4h9zm-10 0v-4h-9v4h9zm-10 0v-4h-9v4h9zm-10 0v-4h-9v4h9zm-10 0v-4h-9v4h9zm-10 0v-4h-9v4h9zm-10 0v-4h-9v4h9zm-10 0v-4h-9v4h9zm-10 0v-4h-9v4h9zm-9 95v-4h-9v4h9zm10 0v-4h-9v4h9zm10 0v-4h-9v4h9zm10 0v-4h-9v4h9zm10 0v-4h-9v4h9zm10 0v-4h-9v4h9zm10 0v-4h-9v4h9zm10 0v-4h-9v4h9zm10 0v-4h-9v4h9z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"); }
  </style>
</head>
<body class="bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 antialiased">
  <a href="#main" class="sr-only focus:not-sr-only focus:fixed focus:top-3 focus:left-3 bg-white text-zinc-900 px-3 py-2 rounded-md shadow">Skip to content</a>
  <div id="root"></div>

  <!-- Inline YAML fallback. You can also pass ?data=<URL> to load external YAML. -->
  <script id="profile-yaml" type="text/yaml">
name: Sayan Mandal
title: Senior Machine Learning Engineer
company: AMD
location: Sunnyvale, CA
avatar: ''
summary: >-
  Machine Learning Engineer specializing in applied AI, with recent experience in building and deploying scalable LLM-powered agents and multi-agent systems. My work focuses on advancing LLM capabilities and computer vision to address complex real-world challenges.
interests:
  - Large Language Models
  - Computer Vision
  - Multimodal Systems
  - Time-Series Analysis
education:
  - degree: Ph.D. in Electrical & Computer Engineering
    school: Duke University (2019-2024)
  - degree: M.S. in Electrical & Computer Engineering
    school: Duke University (2019-2022)
  - degree: B.Tech in Aerospace Engineering
    school: Indian Institute of Technology, Kharagpur (2015-2019)
contact:
  email: sayanmndl21@gmail.com
  linkedin: https://www.linkedin.com/in/sayan-mandal
  github: https://github.com/sayanmandal
  orcid: '#'
  cv_url: '#'
projects:
  - title: DFC-VAE AutoEncoder for Glaucoma Detection
    tech: [Python, PyTorch]
    description: >-
      Developed a Deep Feature-Consistent Variational AutoEncoder to segment glaucoma biomarkers in fundus photos, achieving an ROC-AUC score of 0.9.
    image: ''
  - title: DFC-VAE2 temp AutoEncoder for Glaucoma Detection
    tech: [Python, PyTorch]
    description: >-
      Developed a Deep Feature-Consistent Variational AutoEncoder to segment glaucoma biomarkers in fundus photos, achieving an ROC-AUC score of 0.9.
    image: ''
  - title: Real-time Drone Detection System
    tech: [Python, OpenCV, Librosa, PyMongo]
    description: >-
      Deployed a drone detection system on a Raspberry Pi 3B+, achieving 87% accuracy at 35m using real-time audio feature extraction and reducing latency to 0.5s.
    image: ''
  - title: Sentiment Classification for IMDB Reviews
    tech: [Python, TensorFlow]
    description: >-
      Developed LSTM classifiers to determine the polarity of IMDB movie reviews, achieving 87% accuracy through feature engineering and synthetic data generation.
    image: ''
experience:
  - role: Senior Machine Learning Engineer
    company: AMD
    date: Jan 2024 - Present
    location: San Jose, CA
    points:
      - Led design and development of advanced LLM agents for code analysis.
      - Orchestrated multi-agent systems, improving code coverage by over 80%.
      - Fine-tuned LLMs on large codebases using distributed training (FSDP/ZeRO2).
      - Deployed containerized inference servers for CI/CD, boosting productivity by 70%.
  - role: Graduate Research Assistant
    company: Duke University
    date: Apr 2021 - Dec 2023
    location: Durham, NC
    points:
      - Developed contrastive learning models for glaucoma progression in time-series data.
      - Designed weakly supervised CNN-LSTM models to handle noisy labels.
      - Improved detection sensitivity by 85% (at 95% specificity) with 0.89 ROC-AUC.
  - role: Applied Scientist Intern
    company: Amazon
    date: Jun 2022 - Aug 2022
    location: Boston, MA
    points:
      - Developed a Seq2Seq classifier to correct ASR errors for Alexa FireTV.
      - Built a synthetic data generator to simulate ASR errors and search intents.
      - Improved ASR correction quality by 16% (2.2M+ monthly corrections).
  - role: Undergraduate Research Assistant
    company: Indian Institute of Technology, Kharagpur
    date: Aug 2018 - Apr 2019
    location: Kharagpur, India
    points:
      - Applied transfer learning (UNet) to segment oil spills from satellite SAR data.
      - Developed a PSO algorithm for oil spill mapping with drone swarms.
skills:
  - category: Languages
    items: [Python, C/C++, PostgreSQL, Node.js]
  - category: Libraries & Frameworks
    items: [PyTorch, Transformers, LLamaIndex, Pandas, NumPy, OpenCV, Scikit-learn, Deepspeed, vLLM, LlamaCPP]
  - category: Developer Tools
    items: [Docker, Triton, Ray Serve, Git, AWS (EC2, ECS, S3), PySpark, FastAPI, RabbitMQ, Nginx]
leadership:
  - role: Program Chair
    org: AAAI, IJCAI, ECAI
    date: '2025'
  - role: Reviewer
    org: NeurIPS, ICLR, AISTATS
    date: '2024'
  - role: Head Teaching Assistant
    org: Duke University (NLP, Deep Learning)
    date: 2022-2023
  - role: Team Captain, Product Design
    org: IIT Kharagpur
    date: 2018-2019
achievements:
  - name: ARVO Travel Grant Recipient
    year: '2023'
  - name: Project Featured, Amazon Science
    year: '2023'
  - name: Research Coverage, WRAL Tech
    year: '2019'
  - name: KVPY Fellowship, DST India
    year: '2015'
publications:
  - id: 1
    category: American Journal of Ophthalmology
    title: >-
      Progression or Aging? A Deep Learning Approach for Distinguishing Glaucoma Progression from Age-Related Changes in OCT scans
    description: >-
      Co-authored a paper on a novel deep learning model for distinguishing glaucoma progression from age-related changes in OCT scans.
    date: '2024'
    link: '#'
    bib_url: '#'
  - id: 2
    category: PhD Dissertation
    title: Deep Learning to Predict Glaucoma Progression using Structural Changes in the Eye
    description: PhD dissertation at Duke University.
    date: '2023'
    link: '#'
    bib_url: '#'
  - id: 3
    category: ARVO 2024
    title: A Semi-Supervised Learning Approach to Predict Functional Progression from Longitudinal Optical Coherence Tomography Scans
    description: Presented at ARVO 2024 in Seattle.
    date: '2023'
    link: '#'
    bib_url: '#'
  - id: 4
    category: ARVO 2023
    title: >-
      Noise-PU Learning: Weakly Supervised Time Series Learning to detect Glaucoma Progression using Structural Changes in the Eye
    description: Presented at ARVO 2023 in New Orleans.
    date: '2023'
    link: '#'
    bib_url: '#'
  - id: 5
    category: arXiv
    title: Assessing glaucoma in retinal fundus photographs using Deep Feature Consistent Variational Autoencoders
    description: Preprint available on arXiv.
    date: '2021'
    link: '#'
    bib_url: '#'
  - id: 6
    category: IEEE Aerospace Conference
    title: A comparison of machine learning and human performance in the real-time acoustic detection of drones
    description: Published in the proceedings of the IEEE Aerospace Conference.
    date: '2021'
    link: '#'
    bib_url: '#'
  - id: 7
    category: AIAA Scitech 2020 Forum
    title: Acoustic Detection of Drones through Real-time Audio Attribute Prediction
    description: Presented at the AIAA Scitech 2020 Forum.
    date: '2020'
    link: '#'
    bib_url: '#'
  </script>

  <script type="text/babel" data-presets="env,react">
    const { useEffect, useMemo, useState } = React;

    // ---- Data loading from YAML ----
    async function loadProfileData() {
      const params = new URLSearchParams(window.location.search);
      const external = params.get('data');
      try {
        if (external) {
          const res = await fetch(external, { cache: 'no-store' });
          if (!res.ok) throw new Error(`${res.status} ${res.statusText}`);
          const text = await res.text();
          return jsyaml.load(text);
        } else {
          const node = document.getElementById('profile-yaml');
          if (!node) throw new Error('YAML script tag not found');
          const raw = (node.textContent || node.innerText || '')
            .replace(/ /g, ' ') // nbsp -> space
            .replace(/  /g, '  ')    // tabs -> spaces
            .trim();
          if (!raw) throw new Error('YAML is empty');
          return jsyaml.load(raw);
        }
      } catch (e) {
        console.error('YAML load error:', e);
        throw e;
      }
    }

    // ---- Utilities ----
    const useDarkMode = () => {
      const [isDark, setIsDark] = useState(() => {
        const saved = localStorage.getItem('theme');
        if (saved) return saved === 'dark';
        return window.matchMedia('(prefers-color-scheme: dark)').matches;
      });
      useEffect(() => {
        document.documentElement.classList.toggle('dark', isDark);
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
      }, [isDark]);
      return [isDark, () => setIsDark(d => !d)];
    };

    const useScrollSpy = (ids) => {
      const [active, setActive] = useState(ids[0] || null);
      useEffect(() => {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => { if (entry.isIntersecting) setActive(entry.target.id); });
        }, { rootMargin: '-40% 0px -55% 0px', threshold: [0, 1] });
        ids.forEach((id) => { const el = document.getElementById(id); if (el) observer.observe(el); });
        return () => observer.disconnect();
      }, [ids.join(',')]);
      return active;
    };

    const useToggleList = (limit = 3) => {
      const [expanded, setExpanded] = useState(false);
      const toggle = () => setExpanded(e => !e);
      const slice = (arr = []) => expanded ? arr : arr.slice(0, limit);
      return { expanded, toggle, slice };
    };

    // ---- Components ----
    const Container = ({ children, className = '' }) => (
      <div className={`mx-auto w-full max-w-7xl px-4 sm:px-6 ${className}`}>{children}</div>
    );

    const Card = ({ children, ...props }) => (
      <div className="bg-white dark:bg-zinc-800 p-6 rounded-2xl shadow-sm ring-1 ring-zinc-200 dark:ring-zinc-700" {...props}>{children}</div>
    );

    const Header = ({ isDarkMode, toggleDarkMode, sections, name = 'Sayan Mandal' }) => {
      const [scrolled, setScrolled] = useState(false);
      const active = useScrollSpy(sections);
      useEffect(() => {
        const onScroll = () => setScrolled(window.scrollY > 10);
        window.addEventListener('scroll', onScroll, { passive: true });
        return () => window.removeEventListener('scroll', onScroll);
      }, []);
      const handleNavClick = (e, id) => {
        e.preventDefault();
        const el = document.getElementById(id);
        if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
        history.replaceState(null, '', `#${id}`);
      };
      const links = [
        { name: 'About', id: 'about' },
        { name: 'Research', id: 'research' },
        { name: 'Experience', id: 'experience' },
        { name: 'Skills', id: 'skills' },
        { name: 'Leadership', id: 'leadership' },
        { name: 'Publications', id: 'publications' },
      ];
      return (
        <header className={`sticky top-0 z-50 transition-all ${scrolled ? 'bg-white/80 dark:bg-zinc-900/80 backdrop-blur border-b border-zinc-200/60 dark:border-zinc-800/60' : 'bg-white dark:bg-zinc-900'}`}>
          <Container className="py-3">
            <nav className="flex items-center justify-between" aria-label="Primary">
              <a href="#about" onClick={(e) => handleNavClick(e, 'about')} className="text-lg sm:text-xl font-extrabold tracking-tight text-zinc-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-emerald-400 rounded-md">{name}</a>
              <div className="hidden md:flex items-center gap-6">
                {links.map(l => (
                  <a key={l.id} href={`#${l.id}`} onClick={(e) => handleNavClick(e, l.id)} className={`text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-400 rounded-md ${active === l.id ? 'text-emerald-700 dark:text-emerald-300' : 'text-zinc-600 dark:text-zinc-300 hover:text-zinc-900 dark:hover:text-white'}`} aria-current={active === l.id ? 'page' : undefined}>{l.name}</a>
                ))}
              </div>
              <div className="flex items-center gap-2">
                <button type="button" className="p-2 rounded-xl hover:bg-zinc-100 dark:hover:bg-zinc-800 focus:outline-none focus:ring-2 focus:ring-emerald-400" aria-label="Toggle theme" onClick={toggleDarkMode}>
                  <i className={`fa-solid ${isDarkMode ? 'fa-sun' : 'fa-moon'}`}></i>
                </button>
              </div>
            </nav>
          </Container>
        </header>
      );
    };

    const SocialIcon = ({ icon, href, label }) => (
      <a href={href} target="_blank" rel="noopener noreferrer" aria-label={label} className="inline-flex items-center justify-center h-10 w-10 rounded-full bg-white/10 ring-1 ring-white/20 hover:bg-white/20 transition">
        <i className={`${icon} fa-lg`}></i>
      </a>
    );

    const Hero = ({ data }) => (
      <section id="about" className="hero-bg text-white py-14 sm:py-24">
        <Container>
          <div className="grid md:grid-cols-3 gap-10 items-center">
            <div className="flex flex-col items-center text-center">
              <img loading="lazy" width="160" height="160" src={data?.avatar || 'https://placehold.co/400x400/e2e8f0/0f172a?text=S.M.'} alt={`Portrait of ${data?.name || 'Profile'}`} className="rounded-full w-40 h-40 mb-4 border-4 border-slate-600 shadow" />
              <h1 className="text-3xl font-extrabold text-slate-100">{data?.name}</h1>
              <p className="text-slate-300">{data?.title}</p>
              <p className="text-slate-400 text-sm">{data?.company}</p>
              <p className="text-slate-400 text-sm mt-1">{data?.location}</p>
              <div className="flex gap-3 mt-4">
                {data?.contact?.email && <SocialIcon icon="fa-solid fa-envelope" href={`mailto:${data.contact.email}`} label="Email" />}
                {data?.contact?.linkedin && <SocialIcon icon="fa-brands fa-linkedin" href={data.contact.linkedin} label="LinkedIn" />}
                {data?.contact?.github && <SocialIcon icon="fa-brands fa-github" href={data.contact.github} label="GitHub" />}
                {data?.contact?.orcid && <SocialIcon icon="fa-brands fa-orcid" href={data.contact.orcid} label="ORCID" />}
              </div>
            </div>
            <div className="md:col-span-2">
              <h2 className="text-3xl font-bold mb-4 text-slate-100">About Me</h2>
              <p className="text-slate-200/90 mb-6 max-w-2xl leading-relaxed">{data?.summary}</p>
              <p className="text-slate-300/90 mb-6 max-w-2xl leading-relaxed">
                I hold a Ph.D. and an M.S. in Electrical & Computer Engineering from <a href="https://duke.edu/" target="_blank" rel="noopener noreferrer" className="font-semibold text-slate-100 hover:underline">Duke University</a>, following a B.Tech in Aerospace Engineering from the <a href="https://www.iitkgp.ac.in/" target="_blank" rel="noopener noreferrer" className="font-semibold text-slate-100 hover:underline">Indian Institute of Technology, Kharagpur</a>. My academic journey has built a strong foundation for my work in applied AI.
              </p>
              {data?.contact?.cv_url && (
                <a href={data.contact.cv_url} className="inline-flex items-center gap-2 rounded-xl bg-white/10 hover:bg-white/20 ring-1 ring-white/30 px-4 py-2 font-semibold">
                  <i className="fa-solid fa-download"></i>
                  <span>Download CV</span>
                </a>
              )}
              <div className="mt-10">
                {Array.isArray(data?.interests) && (
                  <div>
                    <h3 className="font-bold text-lg mb-3 text-slate-100">Interests</h3>
                    <ul className="flex flex-wrap items-center gap-x-6 gap-y-2">
                      {data.interests.map((item) => (
                        <li key={item} className="text-slate-200 flex items-center">
                          <span className="text-emerald-400 mr-2 text-lg leading-none">&bull;</span>
                          {item}
                        </li>
                      ))}
                    </ul>
                  </div>
                )}
              </div>
            </div>
          </div>
        </Container>
      </section>
    );

    const Research = ({ data = [] }) => {
      const { expanded, toggle, slice } = useToggleList(4);
      if (!data.length) return null;
      return (
        <section id="research" className="py-20 bg-zinc-50 dark:bg-zinc-950">
          <Container>
            <h2 className="text-4xl font-bold text-center mb-12" data-aos="fade-up">Research Projects</h2>
            <div className="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
              {slice(data).map((project, i) => (
                <Card key={`${project.title}-${i}`} data-aos="fade-up" data-aos-delay={i * 100}>
                  <div className="flex gap-4">
                    <div className="w-24 h-24 bg-zinc-200 dark:bg-zinc-700 rounded-md flex-shrink-0 overflow-hidden">
                      <img src={project.image || 'https://placehold.co/96x96'} alt="Project thumbnail" className="w-full h-full object-cover" />
                    </div>
                    <div>
                      <h3 className="text-xl font-bold">{project.title}</h3>
                      {project.description && <p className="text-zinc-600 dark:text-zinc-300 mt-2 mb-4">{project.description}</p>}
                      <div className="flex flex-wrap gap-2">
                        {(project.tech || []).map((t) => (
                          <span key={t} className="bg-zinc-200 text-zinc-700 dark:bg-zinc-700 dark:text-zinc-200 text-xs font-medium px-2.5 py-0.5 rounded-full">{t}</span>
                        ))}
                      </div>
                    </div>
                  </div>
                </Card>
              ))}
            </div>
            {data.length > 4 && (
              <div className="text-center mt-6" data-aos="fade-up">
                <button onClick={toggle} className="text-sm font-medium text-emerald-700 dark:text-emerald-300 hover:underline">{expanded ? 'See less' : 'See more'}</button>
              </div>
            )}
          </Container>
        </section>
      );
    };

    const Experience = ({ data = [] }) => {
      const { expanded, toggle, slice } = useToggleList(3);
      if (!data.length) return null;
      return (
        <section id="experience" className="py-20">
          <Container>
            <h2 className="text-4xl font-bold text-center mb-12" data-aos="fade-up">Work Experience</h2>
            <div className="max-w-5xl mx-auto">
              <div className="relative border-l-2 border-zinc-200 dark:border-zinc-700">
                {slice(data).map((item, index) => (
                  <div key={`${item.company}-${index}`} className="mb-10 ml-6" data-aos="fade-left">
                    <span className="absolute -left-3 flex items-center justify-center w-6 h-6 bg-zinc-200 dark:bg-zinc-700 rounded-full ring-8 ring-white dark:ring-zinc-900">
                      <i className="fas fa-briefcase text-zinc-600 dark:text-zinc-300" aria-hidden></i>
                    </span>
                    <Card>
                      <div className="flex flex-wrap gap-4 sm:gap-0 sm:justify-between items-start">
                        <div>
                          <h3 className="text-xl font-bold">{item.role}</h3>
                          <p className="font-semibold">{item.company}</p>
                          <p className="text-sm text-zinc-500 dark:text-zinc-400">{item.location}</p>
                        </div>
                        <span className="text-sm text-zinc-500 dark:text-zinc-400 font-medium">{item.date}</span>
                      </div>
                      <ul className="mt-4 space-y-2 list-disc list-inside text-zinc-700 dark:text-zinc-300">
                        {(item.points || []).map((point, i) => (<li key={`${item.company}-pt-${i}`}>{point}</li>))}
                      </ul>
                    </Card>
                  </div>
                ))}
              </div>
              {data.length > 3 && (
                <div className="text-center mt-6" data-aos="fade-up">
                  <button onClick={toggle} className="text-sm font-medium text-emerald-700 dark:text-emerald-300 hover:underline">{expanded ? 'See less' : 'See more'}</button>
                </div>
              )}
            </div>
          </Container>
        </section>
      );
    };

    const Skills = ({ data = [] }) => (
      !data.length ? null : (
      <section id="skills" className="py-20">
        <Container>
          <h2 className="text-4xl font-bold text-center mb-12" data-aos="fade-up">Skills</h2>
          <div className="max-w-5xl mx-auto">
            <Card data-aos="fade-up">
              {data.map((skillCat, idx) => (
                <div key={idx} className="mb-6 last:mb-0">
                  <h3 className="font-bold mb-3">{skillCat.category}</h3>
                  <div className="flex flex-wrap gap-2">
                    {(skillCat.items || []).map((item) => (
                      <span key={`${skillCat.category}-${item}`} className="bg-zinc-200 text-zinc-700 dark:bg-zinc-700 dark:text-zinc-200 text-sm font-medium px-3 py-1 rounded-md">{item}</span>
                    ))}
                  </div>
                </div>
              ))}
            </Card>
          </div>
        </Container>
      </section>)
    );

    const LeadershipAndAchievements = ({ leadership = [], achievements = [] }) => (
      !leadership.length && !achievements.length ? null : (
      <section id="leadership" className="py-20 bg-zinc-50 dark:bg-zinc-950">
        <Container>
          <h2 className="text-4xl font-bold text-center mb-12" data-aos="fade-up">Leadership &amp; Achievements</h2>
          <div className="grid lg:grid-cols-2 gap-8 max-w-5xl mx-auto">
            {leadership.length > 0 && (
              <Card data-aos="fade-right">
                <h3 className="text-2xl font-bold mb-4">Leadership &amp; Community</h3>
                <ul className="space-y-4">
                  {leadership.map((item, idx) => (
                    <li key={idx} className="flex items-start">
                      <i className="fa-solid fa-award text-zinc-500 dark:text-zinc-400 mr-3 mt-1"></i>
                      <div>
                        <p className="font-semibold">{item.role}</p>
                        <p className="text-sm text-zinc-500 dark:text-zinc-400">{item.org} ({item.date})</p>
                      </div>
                    </li>
                  ))}
                </ul>
              </Card>
            )}
            {achievements.length > 0 && (
              <Card data-aos="fade-left">
                <h3 className="text-2xl font-bold mb-4">Achievements</h3>
                <ul className="space-y-4">
                  {achievements.map((item, idx) => (
                    <li key={idx} className="flex items-start">
                      <i className="fa-solid fa-trophy text-zinc-500 dark:text-zinc-400 mr-3 mt-1"></i>
                      <div>
                        <p className="font-semibold">{item.name}</p>
                        <p className="text-sm text-zinc-500 dark:text-zinc-400">{item.year}</p>
                      </div>
                    </li>
                  ))}
                </ul>
              </Card>
            )}
          </div>
        </Container>
      </section>)
    );

    const Publications = ({ data = [] }) => {
      const [q, setQ] = useState('');
      const filtered = useMemo(() => {
        const query = q.trim().toLowerCase();
        if (!query) return data;
        return data.filter(p => (p.title||'').toLowerCase().includes(query) || (p.category||'').toLowerCase().includes(query) || (p.description||'').toLowerCase().includes(query) || String(p.date||'').includes(query));
      }, [q, data]);
      if (!data.length) return null;
      return (
        <section id="publications" className="py-20">
          <Container>
            <div className="text-center mb-10" data-aos="fade-up">
                <h2 className="text-4xl font-bold">Publications</h2>
            </div>
            <div className="max-w-5xl mx-auto">
              <div className="mb-6" data-aos="fade-up">
                <label htmlFor="pub-search" className="sr-only">Search publications</label>
                <input id="pub-search" type="search" value={q} onChange={e => setQ(e.target.value)} placeholder="Search by title, venue, year…" className="w-full rounded-xl border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-400" />
              </div>
              <div className="relative border-l-2 border-zinc-200 dark:border-zinc-700">
                {filtered.map((pub, idx) => (
                  <div key={pub.id || idx} className="mb-10 ml-6" data-aos="fade-left">
                    <span className="absolute -left-3 flex items-center justify-center w-6 h-6 bg-zinc-200 dark:bg-zinc-700 rounded-full ring-8 ring-white dark:ring-zinc-900">
                      <i className="fas fa-book-open text-zinc-600 dark:text-zinc-300" aria-hidden></i>
                    </span>
                    <div className="pl-2">
                      <p className="text-zinc-600 dark:text-zinc-400 text-sm font-semibold uppercase tracking-wider">{pub.category}</p>
                       <div className="flex justify-between items-start gap-4">
                        <h3 className="text-xl font-bold mt-1 flex-1"><a href={pub.link || '#'} className="hover:underline" target={pub.link ? '_blank' : undefined} rel={pub.link ? 'noopener noreferrer' : undefined}>{pub.title}</a></h3>
                        {pub.bib_url && (
                          <a href={pub.bib_url} download={`${pub.id || 'pub'}.bib`} className="flex-shrink-0 text-sm font-medium text-emerald-700 dark:text-emerald-300 hover:underline mt-2" aria-label="Download BibTeX for this publication">
                            <i className="fa-solid fa-quote-right mr-1"></i>.bib
                          </a>
                        )}
                      </div>
                      {pub.description && <p className="text-zinc-700 dark:text-zinc-300 mt-2">{pub.description}</p>}
                      <p className="text-zinc-400 dark:text-zinc-500 text-xs mt-2">{pub.date}</p>
                    </div>
                  </div>
                ))}
                {!filtered.length && (<p className="ml-6 text-sm text-zinc-500 dark:text-zinc-400">No results. Try a different query.</p>)}
              </div>
            </div>
          </Container>
        </section>
      );
    };

    const Footer = () => (
      <footer className="bg-white dark:bg-zinc-900 border-t border-zinc-200 dark:border-zinc-800 mt-10">
        <Container>
          <div className="py-6 text-center text-zinc-500 dark:text-zinc-400 text-sm">
            <p>&copy; {new Date().getFullYear()} Sayan Mandal. All Rights Reserved.</p>
          </div>
        </Container>
      </footer>
    );

    // ---- App ----
    const App = () => {
      const [isDarkMode, toggleDark] = useDarkMode();
      const [data, setData] = useState(null);
      const [err, setErr] = useState(null);

      useEffect(() => {
        (async () => {
          try {
            const d = await loadProfileData();
            setData(d);
          } catch (e) {
            setErr(`Failed to load YAML data: ${e.message || e}`);
          }
        })();
      }, []);
      
      useEffect(() => {
        if(data) {
           AOS.init({
             once: true, // Whether animation should happen only once - while scrolling down
             duration: 600, // values from 0 to 3000, with step 50ms
             easing: 'ease-in-out', // default easing for AOS animations
           });
        }
      }, [data]);

      const sectionIds = ['about','research','experience','skills','leadership','publications'];

      if (!data && !err) {
        return (
          <div className="min-h-screen flex items-center justify-center">
            <div className="animate-pulse text-zinc-500">Loading content…</div>
          </div>
        );
      }

      if (err) {
        return (
          <div className="min-h-screen flex items-center justify-center">
            <div className="text-red-600">{err}</div>
          </div>
        );
      }

      return (
        <div id="main">
          <Header isDarkMode={isDarkMode} toggleDarkMode={toggleDark} sections={sectionIds} name={data?.name} />
          <main>
            <Hero data={data} />
            <Research data={data?.projects} />
            <Experience data={data?.experience} />
            <Skills data={data?.skills} />
            <LeadershipAndAchievements leadership={data?.leadership} achievements={data?.achievements} />
            <Publications data={data?.publications} />
          </main>
          <Footer />
        </div>
      );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
</body>
</html>

